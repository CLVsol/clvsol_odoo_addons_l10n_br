<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright 2016 LasLabs Inc.
     License GPL-3.0 or later (http://www.gnu.org/licenses/gpl). -->

<odoo>

    <record id="clv_abstract_partner_entity_view_form_l10n_br" model="ir.ui.view">
        <field name="name">clv.abstract.partner_entity.form</field>
        <field name="model">clv.abstract.partner_entity</field>
        <field name="priority">99</field>
        <field name="inherit_id" ref="clv_partner_entity.clv_abstract_partner_entity_view_form"/>
        <field name="arch" type="xml">
            <field name="street2" position="replace"/>
            <field name="zip" position="replace"/>
            <field name="street" position="replace">
                <field name="zip" placeholder="CEP" style="width:50%"/>
                <button name="zip_search" type="object" class="oe_inline, oe_edit_only" aria-label="Search" title="ZIP Search">
                    <i class="fa fa-search"></i>
                </button>
                <field name="street" placeholder="Logradouro" class="o_address_street"/>
                <field name="street_number" placeholder="Número" class="o_address_street"/>
                <field name="street2" placeholder="Complemento" class="o_address_street"/>
                <field name="district" placeholder="Bairro" class="o_address_street"/>
            </field>
            <field name="state_id" position="attributes">
                <attribute name="domain">[('country_id','=',country_id)]</attribute>
                <attribute name="style">width:100%</attribute>
            </field>
            <field name="country_id" position="replace"/>
            <field name="state_id" position="before">
                <field name="country_id" placeholder="País"/>
            </field>
            <field name="state_id" position="after">
                <field name="city_id" placeholder="Cidade"/>
            </field>
            <field name="city" position="replace">
                <field name="city" invisible="1"/>
            </field>
            <xpath expr="//div[@name='div_address']/field[@name='street']" position="after">
                <field name="street_number" placeholder="Número"/>
            </xpath>
            <xpath expr="//div[@name='div_address']/field[@name='street2']" position="attributes">
                <attribute name="placeholder">Complemento</attribute>
            </xpath>
            <xpath expr="//div[@name='div_address']/field[@name='street2']" position="after">
                <field name="district" placeholder="Bairro"/>
            </xpath>
            <xpath expr="//div[@name='div_address']/field[@name='state_id']" position="after">
                <field name="city_id" placeholder="Cidade" style="width: 40%%"/>
            </xpath>
            <xpath expr="//div[@name='div_address']/field[@name='city']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//div[@name='div_address']" position="replace">
                <div name="div_address">
                    <field name="zip" placeholder="CEP" style="width: 20%"/>
                    <div class="address_format">
                        <field name="street" placeholder="Logradouro" style="width: 70%"/>
                        <field name="street_number" placeholder="Número" style="width: 20%"/>
                    </div>
                    <div class="address_format">
                        <field name="street2" placeholder="Complemento" style="width: 45%"/>
                        <field name="district" placeholder="Bairro" style="width: 45%"/>
                    </div>
                    <div class="address_format">
                        <field name="country_id" placeholder="País" class="oe_no_button"
                               options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"
                               style="width: 30%"/>
                        <field name="state_id" class="oe_no_button" placeholder="Estado"
                               style="width: 30%" options="{&quot;no_open&quot;: True}"
                               domain="[('country_id','=',country_id)]"/>
                        <field name="city_id" placeholder="Cidade" style="width: 30%"/>
                    </div>
                </div>
            </xpath>
        </field>
    </record>

    <record id="clv_abstract_partner_entity_view_search_l10n_br" model="ir.ui.view">
        <field name="name">clv.abstract.partner_entity.filter</field>
        <field name="model">clv.abstract.partner_entity</field>
        <field name="inherit_id" ref="clv_partner_entity.clv_abstract_partner_entity_view_search"/>
        <field name="arch" type="xml">
            <field name="entity_code" position="after">
                <field name="city_id"/>
                <field name="district"/>
                <field name="street"/>
            </field>
            <group name="group_by" position="inside">
                <filter name="group_by_city_id" string="City" context="{'group_by': 'city_id'}"/>
                <filter name="group_by_district" string="District" context="{'group_by': 'district'}"/>
                <filter name="group_by_street" string="Street" context="{'group_by': 'street'}"/>
            </group>
        </field>
    </record>

</odoo>
